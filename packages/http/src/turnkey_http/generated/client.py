# @generated by codegen. DO NOT EDIT BY HAND

import json
import time
from typing import Any, Dict, Optional
import requests
from turnkey_api_key_stamper import ApiKeyStamper
from turnkey_sdk_types.generated.types import *

TERMINAL_ACTIVITY_STATUSES = [
    "ACTIVITY_STATUS_COMPLETED",
    "ACTIVITY_STATUS_FAILED",
    "ACTIVITY_STATUS_CONSENSUS_NEEDED",
    "ACTIVITY_STATUS_REJECTED",
]


class TurnkeyClient:
    """Turnkey API HTTP client with auto-generated methods."""

    def __init__(
        self,
        base_url: str,
        stamper: ApiKeyStamper,
        organization_id: str,
        default_timeout: int = 30,
        polling_interval_ms: int = 1000,
        max_polling_retries: int = 3,
    ):
        """Initialize the Turnkey client.

        Args:
            base_url: Base URL for the Turnkey API
            stamper: API key stamper for authentication
            organization_id: Organization ID
            default_timeout: Default request timeout in seconds
            polling_interval_ms: Polling interval for command status in milliseconds
            max_polling_retries: Maximum number of polling retries
        """
        self.base_url = base_url.rstrip("/")
        self.stamper = stamper
        self.organization_id = organization_id
        self.default_timeout = default_timeout
        self.polling_interval_ms = polling_interval_ms
        self.max_polling_retries = max_polling_retries

    def _serialize_body(self, body: Any) -> str:
        """Serialize request body, handling Pydantic models.

        Args:
            body: Request body (dict or Pydantic model)

        Returns:
            JSON string
        """
        # Check if it's a Pydantic model
        if hasattr(body, "model_dump"):
            # Use by_alias=True to convert Python names back to API names (e.g., from_ -> from)
            return json.dumps(body.model_dump(by_alias=True, exclude_none=True))
        else:
            return json.dumps(body)

    def _request(self, url: str, body: Dict[str, Any]) -> Dict[str, Any]:
        """Make a request to the Turnkey API.

        Args:
            url: Endpoint URL
            body: Request body

        Returns:
            Response data

        Raises:
            Exception: If request fails
        """
        full_url = self.base_url + url
        body_str = self._serialize_body(body)
        stamp = self.stamper.stamp(body_str)

        headers = {
            stamp.stamp_header_name: stamp.stamp_header_value,
            "Content-Type": "application/json",
        }

        response = requests.post(
            full_url, headers=headers, data=body_str, timeout=self.default_timeout
        )

        if not response.ok:
            try:
                error_data = response.json()
                raise Exception(f"Turnkey API error: {error_data}")
            except ValueError:
                raise Exception(f"{response.status_code} {response.reason}")

        return response.json()

    def _command(
        self, url: str, body: Dict[str, Any], result_key: str
    ) -> Dict[str, Any]:
        """Execute a command and poll for completion.

        Args:
            url: Endpoint URL
            body: Request body
            result_key: Key to extract result from activity

        Returns:
            Response data with activity result
        """
        response_data = self._request(url, body)
        activity = response_data.get("activity", {})
        status = activity.get("status")

        if status not in TERMINAL_ACTIVITY_STATUSES:
            # Poll for completion
            activity_id = activity.get("id")
            attempts = 0

            while attempts < self.max_polling_retries:
                time.sleep(self.polling_interval_ms / 1000.0)
                poll_response = self.get_activity({"activityId": activity_id})
                poll_activity = poll_response.get("activity", {})
                status = poll_activity.get("status")

                if status in TERMINAL_ACTIVITY_STATUSES:
                    response_data = poll_response
                    activity = poll_activity
                    break

                attempts += 1

        # Extract result
        result = activity.get("result", {})
        if result_key in result:
            return {**result[result_key], **response_data}

        return response_data

    def _activity_decision(self, url: str, body: Dict[str, Any]) -> Dict[str, Any]:
        """Execute an activity decision.

        Args:
            url: Endpoint URL
            body: Request body

        Returns:
            Response data with activity result
        """
        response_data = self._request(url, body)
        activity = response_data.get("activity", {})
        result = activity.get("result", {})

        return {**result, **response_data}

    def get_activity(self, input: Optional[TGetActivityBody]) -> TGetActivityResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_activity", body)

    def get_api_key(self, input: Optional[TGetApiKeyBody]) -> TGetApiKeyResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_api_key", body)

    def get_api_keys(
        self, input: Optional[TGetApiKeysBody] = None
    ) -> TGetApiKeysResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_api_keys", body)

    def get_attestation_document(
        self, input: Optional[TGetAttestationDocumentBody]
    ) -> TGetAttestationDocumentResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_attestation", body)

    def get_authenticator(
        self, input: Optional[TGetAuthenticatorBody]
    ) -> TGetAuthenticatorResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_authenticator", body)

    def get_authenticators(
        self, input: Optional[TGetAuthenticatorsBody]
    ) -> TGetAuthenticatorsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_authenticators", body)

    def get_boot_proof(
        self, input: Optional[TGetBootProofBody]
    ) -> TGetBootProofResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_boot_proof", body)

    def get_gas_usage(self, input: Optional[TGetGasUsageBody]) -> TGetGasUsageResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_gas_usage", body)

    def get_latest_boot_proof(
        self, input: Optional[TGetLatestBootProofBody]
    ) -> TGetLatestBootProofResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_latest_boot_proof", body)

    def get_nonces(self, input: Optional[TGetNoncesBody]) -> TGetNoncesResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_nonces", body)

    def get_oauth2_credential(
        self, input: Optional[TGetOauth2CredentialBody]
    ) -> TGetOauth2CredentialResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_oauth2_credential", body)

    def get_oauth_providers(
        self, input: Optional[TGetOauthProvidersBody]
    ) -> TGetOauthProvidersResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_oauth_providers", body)

    def get_on_ramp_transaction_status(
        self, input: Optional[TGetOnRampTransactionStatusBody]
    ) -> TGetOnRampTransactionStatusResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_onramp_transaction_status", body)

    def get_organization(
        self, input: Optional[TGetOrganizationBody] = None
    ) -> TGetOrganizationResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_organization", body)

    def get_organization_configs(
        self, input: Optional[TGetOrganizationConfigsBody]
    ) -> TGetOrganizationConfigsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_organization_configs", body)

    def get_policy(self, input: Optional[TGetPolicyBody]) -> TGetPolicyResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_policy", body)

    def get_policy_evaluations(
        self, input: Optional[TGetPolicyEvaluationsBody]
    ) -> TGetPolicyEvaluationsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_policy_evaluations", body)

    def get_private_key(
        self, input: Optional[TGetPrivateKeyBody]
    ) -> TGetPrivateKeyResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_private_key", body)

    def get_send_transaction_status(
        self, input: Optional[TGetSendTransactionStatusBody]
    ) -> TGetSendTransactionStatusResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_send_transaction_status", body)

    def get_smart_contract_interface(
        self, input: Optional[TGetSmartContractInterfaceBody]
    ) -> TGetSmartContractInterfaceResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_smart_contract_interface", body)

    def get_user(self, input: Optional[TGetUserBody]) -> TGetUserResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_user", body)

    def get_wallet(self, input: Optional[TGetWalletBody]) -> TGetWalletResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_wallet", body)

    def get_wallet_account(
        self, input: Optional[TGetWalletAccountBody]
    ) -> TGetWalletAccountResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/get_wallet_account", body)

    def get_activities(
        self, input: Optional[TGetActivitiesBody] = None
    ) -> TGetActivitiesResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_activities", body)

    def get_app_proofs(
        self, input: Optional[TGetAppProofsBody]
    ) -> TGetAppProofsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_app_proofs", body)

    def list_fiat_on_ramp_credentials(
        self, input: Optional[TListFiatOnRampCredentialsBody]
    ) -> TListFiatOnRampCredentialsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_fiat_on_ramp_credentials", body)

    def list_oauth2_credentials(
        self, input: Optional[TListOauth2CredentialsBody]
    ) -> TListOauth2CredentialsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_oauth2_credentials", body)

    def get_policies(
        self, input: Optional[TGetPoliciesBody] = None
    ) -> TGetPoliciesResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_policies", body)

    def list_private_key_tags(
        self, input: Optional[TListPrivateKeyTagsBody]
    ) -> TListPrivateKeyTagsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_private_key_tags", body)

    def get_private_keys(
        self, input: Optional[TGetPrivateKeysBody] = None
    ) -> TGetPrivateKeysResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_private_keys", body)

    def get_smart_contract_interfaces(
        self, input: Optional[TGetSmartContractInterfacesBody]
    ) -> TGetSmartContractInterfacesResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_smart_contract_interfaces", body)

    def get_sub_org_ids(
        self, input: Optional[TGetSubOrgIdsBody] = None
    ) -> TGetSubOrgIdsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_suborgs", body)

    def list_user_tags(
        self, input: Optional[TListUserTagsBody] = None
    ) -> TListUserTagsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_user_tags", body)

    def get_users(self, input: Optional[TGetUsersBody] = None) -> TGetUsersResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_users", body)

    def get_verified_sub_org_ids(
        self, input: Optional[TGetVerifiedSubOrgIdsBody]
    ) -> TGetVerifiedSubOrgIdsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_verified_suborgs", body)

    def get_wallet_accounts(
        self, input: Optional[TGetWalletAccountsBody]
    ) -> TGetWalletAccountsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_wallet_accounts", body)

    def get_wallets(
        self, input: Optional[TGetWalletsBody] = None
    ) -> TGetWalletsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/list_wallets", body)

    def get_whoami(self, input: Optional[TGetWhoamiBody] = None) -> TGetWhoamiResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/public/v1/query/whoami", body)

    def approve_activity(self, input: TApproveActivityBody) -> TApproveActivityResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_APPROVE_ACTIVITY",
        }

        return self._activity_decision("/public/v1/submit/approve_activity", body)

    def create_api_keys(self, input: TCreateApiKeysBody) -> TCreateApiKeysResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_API_KEYS_V2",
        }

        return self._command(
            "/public/v1/submit/create_api_keys", body, "createApiKeysResult"
        )

    def create_api_only_users(
        self, input: TCreateApiOnlyUsersBody
    ) -> TCreateApiOnlyUsersResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_API_ONLY_USERS",
        }

        return self._command(
            "/public/v1/submit/create_api_only_users", body, "createApiOnlyUsersResult"
        )

    def create_authenticators(
        self, input: TCreateAuthenticatorsBody
    ) -> TCreateAuthenticatorsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2",
        }

        return self._command(
            "/public/v1/submit/create_authenticators",
            body,
            "createAuthenticatorsResult",
        )

    def create_fiat_on_ramp_credential(
        self, input: TCreateFiatOnRampCredentialBody
    ) -> TCreateFiatOnRampCredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/create_fiat_on_ramp_credential",
            body,
            "createFiatOnRampCredentialResult",
        )

    def create_invitations(
        self, input: TCreateInvitationsBody
    ) -> TCreateInvitationsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_INVITATIONS",
        }

        return self._command(
            "/public/v1/submit/create_invitations", body, "createInvitationsResult"
        )

    def create_oauth2_credential(
        self, input: TCreateOauth2CredentialBody
    ) -> TCreateOauth2CredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/create_oauth2_credential",
            body,
            "createOauth2CredentialResult",
        )

    def create_oauth_providers(
        self, input: TCreateOauthProvidersBody
    ) -> TCreateOauthProvidersResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS",
        }

        return self._command(
            "/public/v1/submit/create_oauth_providers",
            body,
            "createOauthProvidersResult",
        )

    def create_policies(self, input: TCreatePoliciesBody) -> TCreatePoliciesResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_POLICIES",
        }

        return self._command(
            "/public/v1/submit/create_policies", body, "createPoliciesResult"
        )

    def create_policy(self, input: TCreatePolicyBody) -> TCreatePolicyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_POLICY_V3",
        }

        return self._command(
            "/public/v1/submit/create_policy", body, "createPolicyResult"
        )

    def create_private_key_tag(
        self, input: TCreatePrivateKeyTagBody
    ) -> TCreatePrivateKeyTagResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG",
        }

        return self._command(
            "/public/v1/submit/create_private_key_tag",
            body,
            "createPrivateKeyTagResult",
        )

    def create_private_keys(
        self, input: TCreatePrivateKeysBody
    ) -> TCreatePrivateKeysResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2",
        }

        return self._command(
            "/public/v1/submit/create_private_keys", body, "createPrivateKeysResultV2"
        )

    def create_read_only_session(
        self, input: TCreateReadOnlySessionBody
    ) -> TCreateReadOnlySessionResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION",
        }

        return self._command(
            "/public/v1/submit/create_read_only_session",
            body,
            "createReadOnlySessionResult",
        )

    def create_read_write_session(
        self, input: TCreateReadWriteSessionBody
    ) -> TCreateReadWriteSessionResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2",
        }

        return self._command(
            "/public/v1/submit/create_read_write_session",
            body,
            "createReadWriteSessionResultV2",
        )

    def create_smart_contract_interface(
        self, input: TCreateSmartContractInterfaceBody
    ) -> TCreateSmartContractInterfaceResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE",
        }

        return self._command(
            "/public/v1/submit/create_smart_contract_interface",
            body,
            "createSmartContractInterfaceResult",
        )

    def create_sub_organization(
        self, input: TCreateSubOrganizationBody
    ) -> TCreateSubOrganizationResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7",
        }

        return self._command(
            "/public/v1/submit/create_sub_organization",
            body,
            "createSubOrganizationResultV7",
        )

    def create_user_tag(self, input: TCreateUserTagBody) -> TCreateUserTagResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_USER_TAG",
        }

        return self._command(
            "/public/v1/submit/create_user_tag", body, "createUserTagResult"
        )

    def create_users(self, input: TCreateUsersBody) -> TCreateUsersResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_USERS_V3",
        }

        return self._command(
            "/public/v1/submit/create_users", body, "createUsersResult"
        )

    def create_wallet(self, input: TCreateWalletBody) -> TCreateWalletResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_WALLET",
        }

        return self._command(
            "/public/v1/submit/create_wallet", body, "createWalletResult"
        )

    def create_wallet_accounts(
        self, input: TCreateWalletAccountsBody
    ) -> TCreateWalletAccountsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS",
        }

        return self._command(
            "/public/v1/submit/create_wallet_accounts",
            body,
            "createWalletAccountsResult",
        )

    def delete_api_keys(self, input: TDeleteApiKeysBody) -> TDeleteApiKeysResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_API_KEYS",
        }

        return self._command(
            "/public/v1/submit/delete_api_keys", body, "deleteApiKeysResult"
        )

    def delete_authenticators(
        self, input: TDeleteAuthenticatorsBody
    ) -> TDeleteAuthenticatorsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_AUTHENTICATORS",
        }

        return self._command(
            "/public/v1/submit/delete_authenticators",
            body,
            "deleteAuthenticatorsResult",
        )

    def delete_fiat_on_ramp_credential(
        self, input: TDeleteFiatOnRampCredentialBody
    ) -> TDeleteFiatOnRampCredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/delete_fiat_on_ramp_credential",
            body,
            "deleteFiatOnRampCredentialResult",
        )

    def delete_invitation(
        self, input: TDeleteInvitationBody
    ) -> TDeleteInvitationResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_INVITATION",
        }

        return self._command(
            "/public/v1/submit/delete_invitation", body, "deleteInvitationResult"
        )

    def delete_oauth2_credential(
        self, input: TDeleteOauth2CredentialBody
    ) -> TDeleteOauth2CredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/delete_oauth2_credential",
            body,
            "deleteOauth2CredentialResult",
        )

    def delete_oauth_providers(
        self, input: TDeleteOauthProvidersBody
    ) -> TDeleteOauthProvidersResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS",
        }

        return self._command(
            "/public/v1/submit/delete_oauth_providers",
            body,
            "deleteOauthProvidersResult",
        )

    def delete_policies(self, input: TDeletePoliciesBody) -> TDeletePoliciesResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_POLICIES",
        }

        return self._command(
            "/public/v1/submit/delete_policies", body, "deletePoliciesResult"
        )

    def delete_policy(self, input: TDeletePolicyBody) -> TDeletePolicyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_POLICY",
        }

        return self._command(
            "/public/v1/submit/delete_policy", body, "deletePolicyResult"
        )

    def delete_private_key_tags(
        self, input: TDeletePrivateKeyTagsBody
    ) -> TDeletePrivateKeyTagsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS",
        }

        return self._command(
            "/public/v1/submit/delete_private_key_tags",
            body,
            "deletePrivateKeyTagsResult",
        )

    def delete_private_keys(
        self, input: TDeletePrivateKeysBody
    ) -> TDeletePrivateKeysResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_PRIVATE_KEYS",
        }

        return self._command(
            "/public/v1/submit/delete_private_keys", body, "deletePrivateKeysResult"
        )

    def delete_smart_contract_interface(
        self, input: TDeleteSmartContractInterfaceBody
    ) -> TDeleteSmartContractInterfaceResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE",
        }

        return self._command(
            "/public/v1/submit/delete_smart_contract_interface",
            body,
            "deleteSmartContractInterfaceResult",
        )

    def delete_sub_organization(
        self, input: TDeleteSubOrganizationBody
    ) -> TDeleteSubOrganizationResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION",
        }

        return self._command(
            "/public/v1/submit/delete_sub_organization",
            body,
            "deleteSubOrganizationResult",
        )

    def delete_user_tags(self, input: TDeleteUserTagsBody) -> TDeleteUserTagsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_USER_TAGS",
        }

        return self._command(
            "/public/v1/submit/delete_user_tags", body, "deleteUserTagsResult"
        )

    def delete_users(self, input: TDeleteUsersBody) -> TDeleteUsersResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_USERS",
        }

        return self._command(
            "/public/v1/submit/delete_users", body, "deleteUsersResult"
        )

    def delete_wallet_accounts(
        self, input: TDeleteWalletAccountsBody
    ) -> TDeleteWalletAccountsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS",
        }

        return self._command(
            "/public/v1/submit/delete_wallet_accounts",
            body,
            "deleteWalletAccountsResult",
        )

    def delete_wallets(self, input: TDeleteWalletsBody) -> TDeleteWalletsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_DELETE_WALLETS",
        }

        return self._command(
            "/public/v1/submit/delete_wallets", body, "deleteWalletsResult"
        )

    def email_auth(self, input: TEmailAuthBody) -> TEmailAuthResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_EMAIL_AUTH_V3",
        }

        return self._command("/public/v1/submit/email_auth", body, "emailAuthResult")

    def eth_send_raw_transaction(
        self, input: TEthSendRawTransactionBody
    ) -> TEthSendRawTransactionResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION",
        }

        return self._command(
            "/public/v1/submit/eth_send_raw_transaction",
            body,
            "ethSendRawTransactionResult",
        )

    def eth_send_transaction(
        self, input: TEthSendTransactionBody
    ) -> TEthSendTransactionResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_ETH_SEND_TRANSACTION",
        }

        return self._command(
            "/public/v1/submit/eth_send_transaction", body, "ethSendTransactionResult"
        )

    def export_private_key(
        self, input: TExportPrivateKeyBody
    ) -> TExportPrivateKeyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_EXPORT_PRIVATE_KEY",
        }

        return self._command(
            "/public/v1/submit/export_private_key", body, "exportPrivateKeyResult"
        )

    def export_wallet(self, input: TExportWalletBody) -> TExportWalletResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_EXPORT_WALLET",
        }

        return self._command(
            "/public/v1/submit/export_wallet", body, "exportWalletResult"
        )

    def export_wallet_account(
        self, input: TExportWalletAccountBody
    ) -> TExportWalletAccountResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT",
        }

        return self._command(
            "/public/v1/submit/export_wallet_account", body, "exportWalletAccountResult"
        )

    def import_private_key(
        self, input: TImportPrivateKeyBody
    ) -> TImportPrivateKeyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_IMPORT_PRIVATE_KEY",
        }

        return self._command(
            "/public/v1/submit/import_private_key", body, "importPrivateKeyResult"
        )

    def import_wallet(self, input: TImportWalletBody) -> TImportWalletResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_IMPORT_WALLET",
        }

        return self._command(
            "/public/v1/submit/import_wallet", body, "importWalletResult"
        )

    def init_fiat_on_ramp(self, input: TInitFiatOnRampBody) -> TInitFiatOnRampResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_FIAT_ON_RAMP",
        }

        return self._command(
            "/public/v1/submit/init_fiat_on_ramp", body, "initFiatOnRampResult"
        )

    def init_import_private_key(
        self, input: TInitImportPrivateKeyBody
    ) -> TInitImportPrivateKeyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY",
        }

        return self._command(
            "/public/v1/submit/init_import_private_key",
            body,
            "initImportPrivateKeyResult",
        )

    def init_import_wallet(
        self, input: TInitImportWalletBody
    ) -> TInitImportWalletResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_IMPORT_WALLET",
        }

        return self._command(
            "/public/v1/submit/init_import_wallet", body, "initImportWalletResult"
        )

    def init_otp(self, input: TInitOtpBody) -> TInitOtpResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_OTP_V2",
        }

        return self._command("/public/v1/submit/init_otp", body, "initOtpResult")

    def init_otp_auth(self, input: TInitOtpAuthBody) -> TInitOtpAuthResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_OTP_AUTH_V3",
        }

        return self._command(
            "/public/v1/submit/init_otp_auth", body, "initOtpAuthResultV2"
        )

    def init_user_email_recovery(
        self, input: TInitUserEmailRecoveryBody
    ) -> TInitUserEmailRecoveryResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2",
        }

        return self._command(
            "/public/v1/submit/init_user_email_recovery",
            body,
            "initUserEmailRecoveryResult",
        )

    def oauth(self, input: TOauthBody) -> TOauthResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_OAUTH",
        }

        return self._command("/public/v1/submit/oauth", body, "oauthResult")

    def oauth2_authenticate(
        self, input: TOauth2AuthenticateBody
    ) -> TOauth2AuthenticateResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_OAUTH2_AUTHENTICATE",
        }

        return self._command(
            "/public/v1/submit/oauth2_authenticate", body, "oauth2AuthenticateResult"
        )

    def oauth_login(self, input: TOauthLoginBody) -> TOauthLoginResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_OAUTH_LOGIN",
        }

        return self._command("/public/v1/submit/oauth_login", body, "oauthLoginResult")

    def otp_auth(self, input: TOtpAuthBody) -> TOtpAuthResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_OTP_AUTH",
        }

        return self._command("/public/v1/submit/otp_auth", body, "otpAuthResult")

    def otp_login(self, input: TOtpLoginBody) -> TOtpLoginResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_OTP_LOGIN",
        }

        return self._command("/public/v1/submit/otp_login", body, "otpLoginResult")

    def recover_user(self, input: TRecoverUserBody) -> TRecoverUserResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_RECOVER_USER",
        }

        return self._command(
            "/public/v1/submit/recover_user", body, "recoverUserResult"
        )

    def reject_activity(self, input: TRejectActivityBody) -> TRejectActivityResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_REJECT_ACTIVITY",
        }

        return self._activity_decision("/public/v1/submit/reject_activity", body)

    def remove_organization_feature(
        self, input: TRemoveOrganizationFeatureBody
    ) -> TRemoveOrganizationFeatureResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE",
        }

        return self._command(
            "/public/v1/submit/remove_organization_feature",
            body,
            "removeOrganizationFeatureResult",
        )

    def set_organization_feature(
        self, input: TSetOrganizationFeatureBody
    ) -> TSetOrganizationFeatureResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE",
        }

        return self._command(
            "/public/v1/submit/set_organization_feature",
            body,
            "setOrganizationFeatureResult",
        )

    def sign_raw_payload(self, input: TSignRawPayloadBody) -> TSignRawPayloadResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",
        }

        return self._command(
            "/public/v1/submit/sign_raw_payload", body, "signRawPayloadResult"
        )

    def sign_raw_payloads(
        self, input: TSignRawPayloadsBody
    ) -> TSignRawPayloadsResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",
        }

        return self._command(
            "/public/v1/submit/sign_raw_payloads", body, "signRawPayloadsResult"
        )

    def sign_transaction(self, input: TSignTransactionBody) -> TSignTransactionResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_SIGN_TRANSACTION_V2",
        }

        return self._command(
            "/public/v1/submit/sign_transaction", body, "signTransactionResult"
        )

    def stamp_login(self, input: TStampLoginBody) -> TStampLoginResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_STAMP_LOGIN",
        }

        return self._command("/public/v1/submit/stamp_login", body, "stampLoginResult")

    def update_fiat_on_ramp_credential(
        self, input: TUpdateFiatOnRampCredentialBody
    ) -> TUpdateFiatOnRampCredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/update_fiat_on_ramp_credential",
            body,
            "updateFiatOnRampCredentialResult",
        )

    def update_oauth2_credential(
        self, input: TUpdateOauth2CredentialBody
    ) -> TUpdateOauth2CredentialResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL",
        }

        return self._command(
            "/public/v1/submit/update_oauth2_credential",
            body,
            "updateOauth2CredentialResult",
        )

    def update_policy(self, input: TUpdatePolicyBody) -> TUpdatePolicyResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_POLICY_V2",
        }

        return self._command(
            "/public/v1/submit/update_policy", body, "updatePolicyResultV2"
        )

    def update_private_key_tag(
        self, input: TUpdatePrivateKeyTagBody
    ) -> TUpdatePrivateKeyTagResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG",
        }

        return self._command(
            "/public/v1/submit/update_private_key_tag",
            body,
            "updatePrivateKeyTagResult",
        )

    def update_root_quorum(
        self, input: TUpdateRootQuorumBody
    ) -> TUpdateRootQuorumResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_ROOT_QUORUM",
        }

        return self._command(
            "/public/v1/submit/update_root_quorum", body, "updateRootQuorumResult"
        )

    def update_user(self, input: TUpdateUserBody) -> TUpdateUserResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_USER",
        }

        return self._command("/public/v1/submit/update_user", body, "updateUserResult")

    def update_user_email(
        self, input: TUpdateUserEmailBody
    ) -> TUpdateUserEmailResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_USER_EMAIL",
        }

        return self._command(
            "/public/v1/submit/update_user_email", body, "updateUserEmailResult"
        )

    def update_user_name(self, input: TUpdateUserNameBody) -> TUpdateUserNameResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_USER_NAME",
        }

        return self._command(
            "/public/v1/submit/update_user_name", body, "updateUserNameResult"
        )

    def update_user_phone_number(
        self, input: TUpdateUserPhoneNumberBody
    ) -> TUpdateUserPhoneNumberResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER",
        }

        return self._command(
            "/public/v1/submit/update_user_phone_number",
            body,
            "updateUserPhoneNumberResult",
        )

    def update_user_tag(self, input: TUpdateUserTagBody) -> TUpdateUserTagResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_USER_TAG",
        }

        return self._command(
            "/public/v1/submit/update_user_tag", body, "updateUserTagResult"
        )

    def update_wallet(self, input: TUpdateWalletBody) -> TUpdateWalletResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_UPDATE_WALLET",
        }

        return self._command(
            "/public/v1/submit/update_wallet", body, "updateWalletResult"
        )

    def verify_otp(self, input: TVerifyOtpBody) -> TVerifyOtpResponse:
        organization_id = input.pop("organizationId", self.organization_id)
        timestamp_ms = input.pop("timestampMs", str(int(time.time() * 1000)))

        body = {
            "parameters": input,
            "organizationId": organization_id,
            "timestampMs": timestamp_ms,
            "type": "ACTIVITY_TYPE_VERIFY_OTP",
        }

        return self._command("/public/v1/submit/verify_otp", body, "verifyOtpResult")

    def test_rate_limits(
        self, input: Optional[TTestRateLimitsBody]
    ) -> TTestRateLimitsResponse:
        if input is None:
            input = {}

        body = {
            **input,
            "organizationId": input.get("organizationId", self.organization_id),
        }

        return self._request("/tkhq/api/v1/test_rate_limits", body)
